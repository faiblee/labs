{
	"info": {
		"_postman_id": "a610e117-2c45-475e-adcb-4ac7b6ade81e",
		"name": "labs-api",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "50441404",
		"_collection_link": "https://web.postman.co/workspace/faible's-team's-Workspace~d135df0e-13f1-40b7-87ba-5321ccc79b88/collection/50441404-a610e117-2c45-475e-adcb-4ac7b6ade81e?action=share&source=collection_link&creator=50441404"
	},
	"item": [
		{
			"name": "UserAPITest",
			"item": [
				{
					"name": "POST /api/auth/register — Создание пользователя",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response has id, username, role\", function () {",
									"    const json = pm.response.json();",
									"    pm.expect(json.id).to.be.a('number');",
									"    pm.expect(json.username).to.eql(pm.collectionVariables.get(\"userUsername\"));",
									"    pm.expect(json.role).to.be.a('string');",
									"});",
									"",
									"pm.collectionVariables.set(\"userId\", pm.response.json().id);",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"userUsername\", \"user_\" + Date.now());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"{{userUsername}}\",\n  \"password\": \"123456\",\n  \"factory_type\": \"linkedList\",\n  \"role\": \"USER\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/auth/register",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST /api/auth/register — Создание админа",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response has id, username, role\", function () {",
									"    const json = pm.response.json();",
									"    pm.expect(json.id).to.be.a('number');",
									"    pm.expect(json.username).to.eql(pm.collectionVariables.get(\"adminUsername\"));",
									"    pm.expect(json.role).to.be.eql('ADMIN');",
									"});",
									"",
									"pm.collectionVariables.set(\"adminId\", pm.response.json().id);",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"adminUsername\", \"admin_\" + Date.now());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"{{adminUsername}}\",\n  \"password\": \"123456\",\n  \"factory_type\": \"array\",\n  \"role\": \"ADMIN\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/auth/register",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET /api/users — Получение списка всех пользователей",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is array\", function () {",
									"    const json = pm.response.json();",
									"    pm.expect(json).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/users",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET /api/users/:id — Получение пользователя по ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    const code = pm.response.code;",
									"    pm.expect(code === 200).to.be.true;",
									"});",
									"pm.test(\"User object has required fields\", function () {",
									"    const user = pm.response.json();",
									"    pm.expect(user.id).to.be.a('number');",
									"    pm.expect(user.username).to.be.a('string');",
									"    pm.expect(user.role).to.be.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/users/{{userId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"users",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT /api/users/:id — Обновление пользователя",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    const code = pm.response.code;",
									"    pm.expect(code === 200).to.be.true;",
									"});",
									"",
									"const user = pm.response.json();",
									"pm.test(\"Username was updated\", function () {",
									"    pm.expect(user.username).to.eql(pm.collectionVariables.get(\"userUsername\"));",
									"});",
									"pm.test(\"Factory type was updated\", function () {",
									"    pm.expect(user.factory_type).to.eql(\"linkedList\");",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"updatedUsername\", \"updated_user_\" + Date.now());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"{{userUsername}}\",\n  \"factory_type\": \"linkedList\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/users/{{userId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"users",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE /api/users/:id — Удаление пользователя",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/users/{{userId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"users",
								"{{userId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "FunctionAPITest",
			"item": [
				{
					"name": "POST /api/auth/register — Создание пользователя (для корректной работы тестов)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"userId\", pm.response.json().id);",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"userUsername\", \"user_\" + Date.now());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"{{userUsername}}\",\n  \"password\": \"123456\",\n  \"factory_type\": \"ARRAY\",\n  \"role\": \"USER\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/auth/register",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST /api/functions - Создание функции",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Successful POST request\", function () {\r",
									"    pm.expect(pm.response.code).to.be.oneOf([201, 202]);\r",
									"});\r",
									"\r",
									"pm.test(\"Response has id, name, ownerId, type\", function () {\r",
									"    const json = pm.response.json();\r",
									"    pm.expect(json.id).to.be.a('number');\r",
									"    pm.expect(json.ownerId).to.eql(parseInt(pm.collectionVariables.get(\"adminId\"), 10));\r",
									"    pm.expect(json.type).to.eql(\"TABULATED\")\r",
									"    pm.expect(json.name).to.eql(\"y=1\")\r",
									"});\r",
									"\r",
									"pm.collectionVariables.set(\"functionId\", pm.response.json().id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\" : \"y=1\",\r\n    \"type\" : \"TABULATED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/functions",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT /api/functions/:id - Изменение name и type",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"const func = pm.response.json();\r",
									"pm.test(\"Name was updated\", function () {\r",
									"    pm.expect(func.name).to.eql(\"y=2\");\r",
									"});\r",
									"\r",
									"pm.test(\"Type was updated\", function () {\r",
									"    pm.expect(func.type).to.eql(\"not_tabulated\");\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"y=2\",\r\n    \"type\": \"not_tabulated\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/functions/{{functionId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions",
								"{{functionId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET - /api/functions - Получение всех функций",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Response is array', function () {",
									"    const json = pm.response.json();",
									"    pm.expect(json).to.be.an('array');",
									"})",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/functions",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET - /api/functions?ownerId={{userId}} - Получение всех функций с параметром ownerId",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 or 404\", function () {",
									"    const code = pm.response.code;",
									"    pm.expect(code === 200 || code === 404).to.be.true;",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    pm.test(\"All functions match both ownerId and type\", function () {",
									"        const functions = pm.response.json();",
									"        functions.forEach(f => {",
									"            pm.expect(f.ownerId).to.eql(pm.collectionVariables.get(\"userId\"));",
									"        });",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/functions?ownerId={{userId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions"
							],
							"query": [
								{
									"key": "ownerId",
									"value": "{{userId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET - /api/functions/:id - Получение функции по id",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"User object has required fields\", function () {\r",
									"    const user = pm.response.json();\r",
									"    pm.expect(user.id).to.be.a('number');\r",
									"    pm.expect(user.name).to.be.a('string');\r",
									"    pm.expect(user.type).to.be.a('string');\r",
									"    pm.expect(user.ownerId).to.be.a('number');\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/functions/{{functionId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions",
								"{{functionId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE /api/functions/:id - удаление функции",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/functions/{{functionId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions",
								"{{functionId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "PointAPITest",
			"item": [
				{
					"name": "POST /api/auth/register — Создание пользователя (для корректной работы тестов) Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"userId\", pm.response.json().id);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"userUsername\", \"user_\" + Date.now());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"{{userUsername}}\",\n  \"password\": \"123456\",\n  \"factory_type\": \"ARRAY\",\n  \"role\": \"USER\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/auth/register",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST /api/functions - Создание функции Copy",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"functionId\", pm.response.json().id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\" : \"y=1\",\r\n    \"ownerId\": {{userId}},\r\n    \"type\" : \"TABULATED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/functions",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST /api/functions/{{functionId}}/points - добавление точки к функции",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Successful POST request\", function () {\r",
									"    pm.expect(pm.response.code).to.be.oneOf([201, 202]);\r",
									"});\r",
									"\r",
									"pm.test(\"Response has id, name, ownerId, type\", function () {\r",
									"    const json = pm.response.json();\r",
									"    pm.expect(json.id).to.be.a('number');\r",
									"    pm.expect(json.xvalue).to.eql(1.0);\r",
									"    pm.expect(json.yvalue).to.eql(2.0);\r",
									"    pm.expect(json.functionId).to.eql(parseInt(pm.collectionVariables.get(\"functionId\"), 10));\r",
									"});\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"xvalue\" : 1.0,\r\n    \"yvalue\" : 2.0\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/functions/{{functionId}}/points",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions",
								"{{functionId}}",
								"points"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST /api/functions/{{functionId}}/points - добавление второй точки к функции",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Successful POST request\", function () {\r",
									"    pm.expect(pm.response.code).to.be.oneOf([201, 202]);\r",
									"});\r",
									"\r",
									"pm.test(\"Response has id, name, ownerId, type\", function () {\r",
									"    const json = pm.response.json();\r",
									"    pm.expect(json.id).to.be.a('number');\r",
									"    pm.expect(json.xvalue).to.eql(2.0);\r",
									"    pm.expect(json.yvalue).to.eql(3.0);\r",
									"    pm.expect(json.functionId).to.eql(parseInt(pm.collectionVariables.get(\"functionId\"), 10));\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"xvalue\" : 2.0,\r\n    \"yvalue\" : 3.0\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/functions/{{functionId}}/points",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions",
								"{{functionId}}",
								"points"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST /api/functions/{{functionId}}/points - добавление третьей точки к функции",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Successful POST request\", function () {\r",
									"    pm.expect(pm.response.code).to.be.oneOf([201, 202]);\r",
									"});\r",
									"\r",
									"pm.test(\"Response has id, name, ownerId, type\", function () {\r",
									"    const json = pm.response.json();\r",
									"    pm.expect(json.id).to.be.a('number');\r",
									"    pm.expect(json.xvalue).to.eql(3.0);\r",
									"    pm.expect(json.yvalue).to.eql(4.0);\r",
									"    pm.expect(json.functionId).to.eql(parseInt(pm.collectionVariables.get(\"functionId\"), 10));\r",
									"});\r",
									"\r",
									"pm.collectionVariables.set(\"pointId\", pm.response.json().id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"xvalue\" : 3.0,\r\n    \"yvalue\" : 4.0\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/functions/{{functionId}}/points",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions",
								"{{functionId}}",
								"points"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET /api/functions/{{functionId}}/points - получение всех точек функции",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 or 404\", function () {\r",
									"    const code = pm.response.code;\r",
									"    pm.expect(code === 200 || code === 404).to.be.true;\r",
									"});\r",
									"\r",
									"if (pm.response.code === 200) {\r",
									"    pm.test(\"All points match both functionId\", function () {\r",
									"        const functions = pm.response.json();\r",
									"        functions.forEach(f => {\r",
									"            pm.expect(f.functionId).to.eql(parseInt(pm.collectionVariables.get(\"functionId\"), 10));\r",
									"        });\r",
									"    });\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/functions/{{functionId}}/points",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"functions",
								"{{functionId}}",
								"points"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET /api/points/{{pointId}} - получение точки по id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"User object has required fields\", function () {\r",
									"    const point = pm.response.json();\r",
									"    pm.expect(point.id).to.be.a('number');\r",
									"    pm.expect(point.xvalue).to.be.a('number');\r",
									"    pm.expect(point.yvalue).to.be.a('number');\r",
									"    pm.expect(point.functionId).to.be.a('number');\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/points/{{pointId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"points",
								"{{pointId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT /api/points/{{pointId}}",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"const responseJson = pm.response.json();\r",
									"\r",
									"pm.test(\"Response contains required fields\", function () {\r",
									"    pm.expect(responseJson).to.have.property(\"id\");\r",
									"    pm.expect(responseJson).to.have.property(\"xvalue\");\r",
									"    pm.expect(responseJson).to.have.property(\"yvalue\");\r",
									"    pm.expect(responseJson).to.have.property(\"functionId\");\r",
									"});\r",
									"\r",
									"const requestBody = JSON.parse(pm.request.body.raw);\r",
									"\r",
									"pm.test(\"x_value was updated correctly\", function () {\r",
									"    pm.expect(responseJson.xvalue).to.eql(requestBody.xvalue);\r",
									"});\r",
									"\r",
									"pm.test(\"y_value was updated correctly\", function () {\r",
									"    pm.expect(responseJson.yvalue).to.eql(requestBody.yvalue);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"xvalue\": 1.0,\r\n    \"yvalue\": 0.0 \r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/points/{{pointId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"points",
								"{{pointId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE /api/points/{{pointId}} - удаление точки по id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/points/{{pointId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"points",
								"{{pointId}}"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "userId",
			"value": "28191",
			"type": "string"
		},
		{
			"key": "userUsername",
			"value": "user_1764530271808",
			"type": "string"
		},
		{
			"key": "functionId",
			"value": "170",
			"type": "string"
		},
		{
			"key": "x_value",
			"value": "",
			"type": "string"
		},
		{
			"key": "updatedUsername",
			"value": "updated_user_1764530270240",
			"type": "string"
		},
		{
			"key": "pointId",
			"value": "227",
			"type": "string"
		},
		{
			"key": "adminUsername",
			"value": "admin",
			"type": "string"
		},
		{
			"key": "adminId",
			"value": "28189",
			"type": "string"
		},
		{
			"key": "adminPassword",
			"value": "123456",
			"type": "string"
		}
	]
}